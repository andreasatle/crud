## I-012 — Address Update and Mutation Semantics

**Statement**

Every persisted `Address` entity MUST satisfy all of the following:

---

### 1. Update Preserves Identity

* Updating an `Address` MUST NOT change its identity.
* Any update to an `Address` preserves the same logical entity as defined by its `id`.

---

### 2. Immutable Identity Field

* The `id` field MUST NOT be modified as part of an update.
* Any operation that results in a different `id` constitutes a different `Address`, not an update.

---

### 3. Mutable Non-Identity Fields

* Fields other than `id` (including `person_id`, `street`, `city`, `postal_code`, `country`) MAY be modified through updates **only if permitted by other invariants**.
* Modifying non-identity fields MUST NOT affect entity identity.

---

### 4. Ownership Stability

* An `Address`’s ownership (`person_id`) MUST NOT change through update.
* Changing `person_id` constitutes reassignment and is **not** a valid update of the same `Address`.

---

### 5. Update vs Replacement

* An update modifies an existing `Address`.
* Creating an `Address` with a new `id` represents a new entity, not an update of an existing one.

---

**Rationale**

This invariant defines **what it means to update an `Address` without changing what that entity is**.

It ensures that:

* identity remains stable across updates
* updates are distinguishable from replacement
* ownership is not silently reassigned
* persistence mappings remain consistent
* lifecycle reasoning remains sound

All higher-level behavior depends on this clarity, including:

* update operations in CRUD workflows
* enforcement of address ownership
* persistence row updates
* cascading delete and integrity rules
* synchronization with external systems
