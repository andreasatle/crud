## I-011 — Address Identity Semantics and Stability

**Statement**

Every persisted `Address` entity MUST satisfy all of the following:

### 1. Identity Definition

* An `Address`’s identity is defined **solely** by its `id`.
* No other field contributes to identity, including:

  * `person_id`
  * `street`
  * `city`
  * `postal_code`
  * `country`

---

### 2. Identity Equality

* Two `Address` instances with the same `id` represent the **same logical entity**, regardless of other field values.
* Two `Address` instances with different `id` values represent **different entities**, even if all other fields are identical.

---

### 3. Identity Stability

* An `Address`’s `id` MUST NOT change over the lifetime of that entity.
* Any change of `id` constitutes a different `Address`, not a modification of the same one.

---

### 4. Non-Identity Fields

* Fields other than `id` (including `person_id`, `street`, `city`, `postal_code`, `country`) MAY change **only if permitted by other invariants**.
* Changing non-identity fields MUST NOT affect entity identity.

---

**Rationale**

This invariant defines **what it means for an `Address` to remain the same entity over time**.

It ensures that:

* identity is independent of ownership
* ownership (`person_id`) is not conflated with identity
* updates are distinguishable from replacement
* persistence mappings remain stable
* referential integrity can be reasoned about precisely

All higher-level behavior depends on this being unambiguous, including:

* update vs replacement semantics
* persistence row identity
* deduplication
* cascading delete logic
* synchronization with external systems
