## I-007 — Person Update Operation Semantics

This is the **operational counterpart** to the *semantic* update rules you already froze in **I-003**.

I-003 said *what update means*.
I-007 will say *how the update operation behaves*.

No DB. No API. Still FakePersonStore.

---

## I-007 — Person Update Operation Semantics

**Statement**

The system MUST provide an update operation for `Person` entities that satisfies all of the following:

1. **Explicit Update Operation**

   * Updating a `Person` MUST be performed through an explicit update operation.
   * Direct construction of a `Person` does not constitute an update.

2. **Update Requires Prior Existence**

   * Updating a `Person` with a non-existent `id` MUST fail explicitly.
   * The system MUST NOT create a new entity as a side effect of update.

3. **Identity Preservation**

   * An update operation MUST preserve the identity of the entity.
   * The `id` of the updated `Person` MUST match the existing entity’s `id`.

4. **Update Applies to Non-Identity Fields**

   * An update operation MAY modify non-identity fields (`name`, `email`).
   * Updating non-identity fields MUST NOT affect entity identity.

5. **Successful Update Is Observable**

   * After a successful update, a subsequent read operation MUST return the updated entity.

---

**Rationale**

This invariant defines **what it means to update an existing `Person`** at the operational level.

It ensures that:

* updates cannot create entities
* updates cannot change identity
* update semantics are distinct from creation
* update effects are observable and consistent

By enforcing update behavior explicitly, the system avoids:

* silent upserts
* accidental replacements
* identity corruption
* ambiguous CRUD workflows

