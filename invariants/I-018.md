## I-018 — Address Update Operation Semantics

**Statement**

The system MUST provide an explicit update operation for `Address` entities that satisfies all of the following:

---

### 1. Explicit Update Operation

* Updating an `Address` MUST be performed through an explicit update operation.
* Direct construction of an `Address` does not constitute an update.

---

### 2. Existence Requirement

* Updating an `Address` MUST fail if the referenced `Address` does not exist.
* Update MUST NOT create a new `Address`.

---

### 3. Identity Preservation

* An update operation MUST NOT change the `Address`’s identity.
* The `id` field MUST remain unchanged across updates.

---

### 4. Permitted Field Mutation

* Fields other than `id` MAY be updated, subject to other invariants.
* Updating non-identity fields MUST NOT affect entity identity semantics (per I-011).

---

### 5. Ownership Stability

* An update operation MUST NOT change the owning `Person` of an `Address`.
* The `person_id` field MUST remain unchanged across updates.

---

### 6. Update Visibility

* After a successful update, subsequent read operations MUST reflect the updated state.

---

### 7. Scope of This Invariant

* This invariant defines **update operation semantics only**.
* It does **not** define:

  * persistence mechanisms
  * transaction boundaries
  * concurrency behavior
  * cascading semantics

Those concerns are governed by other invariants or implementation choices.

---

**Rationale**

This invariant defines **how an Address may be updated** without altering its identity, ownership, or lifecycle.

It ensures that:

* updates are explicit and intentional
* updates cannot create entities
* identity and ownership remain stable
* state changes are visible and coherent

This invariant completes the Address-side symmetry with Person update semantics and is a prerequisite for correct delete and listing behavior.
