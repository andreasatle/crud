## POLICY-P02 â€” Boundary vs Domain Modeling

### Purpose
To separate untrusted I/O concerns from authoritative domain and persistence concerns.

### Rules

1. **All API input and output models MUST be defined using Pydantic.**

   * This includes request and response payloads.
   * Pydantic is used for validation, parsing, and schema enforcement at boundaries.

2. **All persisted or domain entities MUST NOT depend on Pydantic.**

   * Domain and persistence models MUST be plain Python (`dataclass` or equivalent).
   * No Pydantic base classes, validators, or field coercion are allowed in domain models.

3. **Conversion between I/O models and domain models MUST be explicit.**

   * Mapping logic must be visible in code.
   * No implicit or magical conversion is allowed.

4. **Invariants apply to domain models, not to I/O models.**

   * I/O models may be partial, permissive, or evolving.
   * Domain models represent authoritative system state.

### Rationale

* Pydantic is optimized for **untrusted data at boundaries**.
* Domain and persistence logic require **predictability and explicit control**.
* Separating the two prevents hidden validation, coercion, and authority inversion.

