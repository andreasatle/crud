## POLICY-P05 â€” SQL-Based Persistence with ORM

### Purpose  
To fix the persistence technology and access pattern in order to prevent architectural drift and hidden coupling.

### Rules

1. **Persistent storage MUST use a SQL database.**
   * The concrete database engine (e.g. MySQL, PostgreSQL) is fixed per project configuration.

2. **Persistence MUST be implemented using an ORM.**
   * SQLAlchemy is the approved ORM.
   * Raw SQL execution is forbidden.

3. **All persisted entities MUST be represented as ORM-mapped classes.**
   * Table schemas are defined exclusively through ORM mappings.

4. **ORM usage MUST be isolated to the persistence layer.**
   * Domain logic MUST NOT import or depend on ORM-specific APIs.
   * ORM objects MUST NOT leak across module boundaries.

5. **Session and transaction scope MUST be explicit.**
   * ORM sessions MUST be created, used, and disposed per operation.
   * No global or long-lived sessions are allowed.

### Rationale

* Fixes the storage model early to avoid repeated rework.
* Prevents hidden data access paths.
* Keeps persistence decisions inspectable and replaceable.
* Preserves invariant authority while constraining implementation freedom.

